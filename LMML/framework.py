from bs4 import BeautifulSoup, Tag, NavigableString, Comment, Doctype
from typing import Union

# Define the type for a BeautifulSoup node
Node = Union[BeautifulSoup, Tag, NavigableString, Comment, Doctype]

def traverse(node: Node, depth=0):
    # Traverse all children of the current node
    if isinstance(node, Tag):
        for child in list(node.children):
            print(child.name)
            traverse(child, depth + 1)

        direct_text = ''.join([str(t).strip() for t in node.contents if isinstance(t, str)]).strip()

        if direct_text == '':
            try:
                node.unwrap()
            except:
                print(node)
                node.unwrap()


if __name__ == '__main__':
    test = """
    <div class="L3eUgb"><div class="o3j99 n1xJcf Ne6nSd" role="navigation"><a class="MV3Tnb" href="https://about.google/?fg=1&amp;utm_source=google-US&amp;utm_medium=referral&amp;utm_campaign=hp-header" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://about.google/%3Ffg%3D1%26utm_source%3Dgoogle-US%26utm_medium%3Dreferral%26utm_campaign%3Dhp-header&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0QkNQCCAI&amp;bl=DBU6&amp;opi=89978449">About</a><a class="MV3Tnb" href="https://store.google.com/US?utm_source=hp_header&amp;utm_medium=google_ooo&amp;utm_campaign=GS100042&amp;hl=en-US" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://store.google.com/US%3Futm_source%3Dhp_header%26utm_medium%3Dgoogle_ooo%26utm_campaign%3DGS100042%26hl%3Den-US&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0QpMwCCAM&amp;bl=DBU6&amp;opi=89978449">Store</a><div class="LX3sZb"><div jscontroller="SJpD2c" jsaction="rcuQ6b:npT2md;YQNWc:MMAZpe;zWO23b:FPeyVe"><div><div class="gb_ga gb_cd gb_8a" id="gb"><div class="gb_td gb_6a gb_hd"><div><div class="gb_zd gb_z gb_Pf"><div class="gb_y gb_z"><a class="gb_x" aria-label="Gmail " href="https://mail.google.com/mail/&amp;ogbl" target="_top">Gmail</a></div><div class="gb_y gb_z"><a class="gb_x" aria-label="Search for Images " href="https://www.google.com/imghp?hl=en&amp;ogbl" target="_top">Images</a></div></div></div><div class="gb_Ld"><div class="gb_Xc"> <div class="gb_Fd gb_z gb_j"> <div class="gb_f"> <a class="gb_d" aria-label="Search Labs" href="https://labs.google.com/search?source=hp" target="_top" role="button" tabindex="0"> <svg class="gb_g" focusable="false" height="24px" viewBox="0 -960 960 960" width="24px"></svg>  </a> </div> </div> <div class="gb_k gb_Fd gb_z" id="gbwa"><div class="gb_f"><a class="gb_d" aria-label="Google apps" href="https://www.google.com/intl/en/about/products" aria-expanded="false" role="button" tabindex="0"><svg class="gb_h" focusable="false" viewBox="0 0 24 24"></svg></a></div></div></div><div class="gb_b gb_Fd gb_Pf"><div class="gb_f gb_5a gb_Pf"><a class="gb_d gb_ya gb_z" aria-label="Google Account: Balaji Rama  
(balajirw10@gmail.com)" href="https://accounts.google.com/SignOutOptions?hl=en&amp;continue=https://www.google.com/&amp;ec=GBRAmgQ" tabindex="0" role="button"><img class="gb_p gbii" src="https://lh3.google.com/u/0/ogw/AF2bZyiWpplmvjQjt5-lsT45fGEfdr97qBn2ZrnRyAtr3s6uHQ=s32-c-mo" srcset="https://lh3.google.com/u/0/ogw/AF2bZyiWpplmvjQjt5-lsT45fGEfdr97qBn2ZrnRyAtr3s6uHQ=s32-c-mo 1x, https://lh3.google.com/u/0/ogw/AF2bZyiWpplmvjQjt5-lsT45fGEfdr97qBn2ZrnRyAtr3s6uHQ=s64-c-mo 2x " alt="" aria-hidden="true"></a></div></div></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 370px; z-index: 991; height: 0px; margin-top: 49px; transition: height 0.3s ease-in-out; right: 0px; margin-right: 4px;"></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 436px; z-index: 991; height: 0px; margin-top: 49px; right: 0px; margin-right: 4px;"></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 420px; z-index: 991; height: 280px; margin-top: 70px; right: 0px; margin-right: 25px;"></div></div></div></div><div jsname="hJoEPd" style="display:none"></div><div jsname="micRse" style="display:none"></div><div jsname="t5CbBf" style="display:none"></div><div jsname="NG1V7d" style="display:none"></div><div jsname="IZKNDc" style="display:none"></div><div jsname="tP7ayb" style="display:none"></div><div jsname="uO6mde" style="display:none"></div><g-snackbar jsname="PWj1Zb" jscontroller="OZLguc" style="display:none" jsshadow="" jsaction="rcuQ6b:npT2md" id="ow14" __is_owner="true"><div jsname="Ng57nc" class="yK6jqe" jsowner="ow14"><div class="b77HKf"><div class="rIxsve" jsslot=""><span class="Txngnb wHYlTd yUTMj">Something went wrong. Your history wasn't deleted.</span></div></div></div><div jsname="sM5MNb" aria-live="polite" class="LH3wG"></div></g-snackbar></div></div></div><div class="o3j99 LLD4me yr19Zb"><div class="k1zIA rSk4se"><img class="lnXdpd" alt="Google" height="92" src="/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png" srcset="/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png 1x, /images/branding/googlelogo/2x/googlelogo_color_272x92dp.png 2x" width="272"></div></div><div class="o3j99 ikrT4e om7nvf"><dialog class="spch-dlg" id="spch-dlg"><div class="spch" style="display:none" id="spch"><button class="pz5bj" id="spchx" aria-label="close"><span style="height:16px;line-height:16px;width:16px" class="z1asCe wuXmqc"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></button><div class="spchc" id="spchc"><div class="inner-container"><div class="button-container"><span class="r8s4j" id="spchl"></span><span class="LgbsSe" id="spchb"><div class="microphone"><span class="receiver"></span><div class="wrapper"><span class="stem"></span><span class="shell"></span></div></div></span></div><div class="text-container"><span class="spcht" style="color:#70757a" id="spchi"></span><span class="spcht" style="color:#000" id="spchf"></span></div><div class="google-logo"></div></div><div class="permission-bar"><div class="permission-bar-gradient"></div></div></div></div></dialog><form action="/search" autocomplete="off" method="GET" role="search"> <div jsmodel="b5W85 vNzKHd" jsdata="MuIEvd;_;A1yMlk"> <div jscontroller="cnjECf" jsmodel="VYkzu kjkykd EPRt9d LM7wx Qlyryb EtCx8b Ip3Erc L97mud          " class="A8SBwf" jsdata="LVplcb;_;" jsaction="lX6RWd:w3Wsmc;ocDSvd:duwfG;XmGRxb:mVw6nb;DkpM0b:d3sQLd;IQOavd:dFyQEf;XzZZPe:jI3wzf;Aghsf:AVsnlb;iHd9U:Q7Cnrc;f5hEHe:G0jgYd;vmxUb:j3bJnb;nTzfpf:YPRawb;R2c5O:LuRugf;qiCkJd:ANdidc;htNNz:SNIJTd;NOg9L:HLgh3;uGoIkd:epUokb;zLdLw:eaGBS;H9muVd:J4e6lb;djyPCf:nMeUJf;hBEIVb:nUZ9le;rcuQ6b:npT2md"><div jsname="RNNXgb" class="RNNXgb"><div class="SDkEP"><div jsname="uFMOof" class="iblpc"><div class="CcAdNb"><span class="QCzoEc z1asCe MZy1Rb" style="height:20px;line-height:20px;width:20px"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></div></div><div jscontroller="vZr2rb" jsname="gLFyf" class="a4bIc" jsaction="h5M12e;input:d3sQLd;blur:jI3wzf"><div jsname="vdLsw" class="YacQv"></div><textarea class="gLFyf" aria-controls="Alh6id" aria-owns="Alh6id" autofocus="" title="Search" value="" jsaction="paste:puy29d;" aria-label="Search" aria-autocomplete="both" aria-expanded="false" aria-haspopup="false" autocapitalize="off" autocomplete="off" autocorrect="off" id="APjFqb" maxlength="2048" name="q" role="combobox" rows="1" spellcheck="false"></textarea></div><div class="dRYYxd">   <div jscontroller="PymCCe" jsname="RP0xob" class="BKRPef"> <div class="vOY7J" tabindex="0" jsname="pkjasb" aria-label=" Clear" role="button" jsaction="AVsnlb;rcuQ6b:npT2md">  <span jsname="itVqKe" class="ExCKkf z1asCe rzyADb"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span>   </div> <span jsname="s1VaRe" class="ACRAdd"></span> </div> <div jscontroller="unV4T" jsname="F7uqIe" class="XDyW0e" aria-label="Search by voice" role="button" tabindex="0" jsaction="h5M12e;rcuQ6b:npT2md"><svg class="goxjub" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"></svg></div><div jscontroller="lpsUAf" jsname="R5mgy" class="nDcEnd" aria-label="Search by image" role="button" tabindex="0" jsaction="rcuQ6b:npT2md;h5M12e"><svg class="Gdd5U" focusable="false" viewBox="0 0 192 192" xmlns="http://www.w3.org/2000/svg"></svg></div></div></div></div><div jscontroller="Dvn7fe" jsname="UUbT9" class="UUbT9 EyBRub" style="display:none" jsaction="mouseout:ItzDCd;mouseleave:MWfikb;hBEIVb:nUZ9le;YMFC3:VKssTb;vklu5c:k02QY;ldyIye:CmVOgc"><div jscontroller="Wo3n8" jsname="aadvhe" jsmodel="d5EhJe" jsdata="vST7rb;_;A1yMlo zEIyGd;_;" jsaction="kPzEO:MlP2je;qjLxRc:FbhRG;w8f1fc:hRwSgb;kq2wxf:s5CUif;aIJAdf:UhDUnd;BqbTbe:naa5ve;kYAKrf:CqUGrf;hwhRRe:KyxjCd;rcuQ6b:npT2md"><div jsname="GkjeIf" id="_1-CXZpHjKYKk5NoP376m6AI_2" class="yp"></div></div><div jscontroller="P10Owf" class="YB4h9 ky4hfd" jsdata="vST7rb;_;A1yMlo" aria-labelledby="EiQXVd" role="dialog" jsaction="kPzEO:MlP2je;qjLxRc:MlP2je;w8f1fc:hRwSgb;kq2wxf:s5CUif"><div id="_1-CXZpHjKYKk5NoP376m6AI_4"><span class="Job8vb z1asCe wuXmqc" aria-label="Close Choose what you’re giving feedback on" role="button" tabindex="0" jsaction="kEOk4d" style="height:20px;line-height:20px;width:20px"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span><div class="C85rO" aria-level="1" id="EiQXVd" role="heading">Choose what you’re giving feedback on</div></div></div><div jsname="RjPuVb" class="RjPuVb"></div><div jsname="aajZCb" class="aajZCb"><div class="xtSCL"></div><div class="mkHrUc" id="Alh6id" role="presentation"><div jsname="erkvQe" class="erkvQe"></div><div jsname="tovEib" class="rLrQHf" role="presentation"></div></div><div jsname="E80e9e" class="OBMEnb" id="shJ2Vb" role="presentation"><ul jsname="bw4e9b" class="G43f7e" role="listbox"></ul></div><div jsname="XiTF2e" class="OBMEnb" id="GzLgge" role="presentation"><div jsname="Q7Erhd" class="G43f7e" role="presentation"></div></div><div class="ynRric" id="ynRric" role="presentation"></div><li class="sbct PZPZlf" id="YMXe" role="presentation"><div class="eIPGRd"><div class="sbic"><div class="j0GJWd" style="display:none"><div><img class="uHGFVd AZNDm" alt="" style="display:none"></div><div class="iQxPRb"><img class="uHGFVd EOLKOc" alt="" style="display:none"><img class="uHGFVd EOLKOc" alt="" style="display:none"></div></div></div><div class="pcTkSc"><div class="lnnVSe" aria-atomic="true" role="option"><div class="wM6W7d"><span></span></div><div class="ClJ9Yb"><span></span></div><div class="a5RLac"><span></span></div></div><div class="Sz7Lee MagqMc U48fD" style="display:none" aria-label="See more" role="button" tabindex="0"><hr class="Bi9oQd" aria-hidden="true"><div class="ZFiwCf"><span class="LGwnxb">See more</span><span class="w2fKdd z1asCe" aria-hidden="true" style="height:20px;line-height:20px;width:20px"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></div></div><div class="TfeWfb"></div></div><div class="AQZ9Vd" aria-atomic="true" role="button"><div class="sbai" role="presentation">Delete</div></div></div></li><div class="xAmryf" id="bgeLZd"><span class="jtAOgd"></span></div><li class="AB2Fdd" id="d6ItKb" role="presentation"><div class="eIPGRd"><div class="ZDHp" id="fU0xAb" role="presentation" style="display:none"><div class="kZtr1b"><div class="lnnVSe" aria-atomic="true" role="option"><div class="SHFPkb"></div><div class="bTSf5c"></div><div class="PnfqLc"></div><div class="HrUlUc"></div></div><div class="Tnv2td" aria-atomic="true" role="button" style="display:none"><span class="z76Rnb z1asCe JKu1je"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></div><div class="xAmryf" id="bgeLZd"><svg class="eL7oAc" height="18px" viewBox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"></svg><span class="jtAOgd"></span></div><div class="TfeWfb" role="presentation" style="display:none"></div><div class="Vlt3wb" style="display:none"></div></div><span class="XAFD5c" style="display:none"></span><div class="j0GJWd" style="display:none"><div><img class="uHGFVd AZNDm" alt="" style="display:none"></div><div class="iQxPRb"><img class="uHGFVd EOLKOc" alt="" style="display:none"><img class="uHGFVd EOLKOc" alt="" style="display:none"></div></div></div></div></li><li class="sbct PZPZlf" id="mitGyb" role="presentation"><div class="eIPGRd hdt0ld"><div class="sbic"></div><div class="pcTkSc"><div aria-atomic="true" class="lnnVSe" role="option"><div class="wM6W7d"><span></span></div><div class="ClJ9Yb"><span></span></div></div></div><div class="AQZ9Vd" aria-atomic="true" role="button"><div class="sbai" role="presentation">Delete</div></div></div></li><div class="ZDHp" id="fU0xAb" role="presentation" style="display:none"><div class="kZtr1b"><div class="lnnVSe" aria-atomic="true" role="option"><div class="SHFPkb"></div><div class="bTSf5c"></div><div class="PnfqLc"></div><div class="HrUlUc"></div></div><div class="Tnv2td" aria-atomic="true" role="button" style="display:none"><span class="z76Rnb z1asCe JKu1je"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></div><div class="xAmryf" id="bgeLZd"><svg class="eL7oAc" height="18px" viewBox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"></svg><span class="jtAOgd"></span></div><div class="TfeWfb" role="presentation" style="display:none"></div><div class="Vlt3wb" style="display:none"></div></div><span class="XAFD5c" style="display:none"></span><div class="j0GJWd" style="display:none"><div><img class="uHGFVd AZNDm" alt="" style="display:none"></div><div class="iQxPRb"><img class="uHGFVd EOLKOc" alt="" style="display:none"><img class="uHGFVd EOLKOc" alt="" style="display:none"></div></div></div><li class="IDVnvc PZPZlf" id="TN4rFf" role="presentation"><div class="cRV9hb"><div class="aVbWac"><div class="sbic"></div></div><div class="pcTkSc" role="presentation"><div class="lnnVSe" aria-atomic="true" role="option"><div class="wM6W7d"><span></span></div><div class="ClJ9Yb"><span></span></div></div></div></div></li><div jsname="VlcLAe" class="lJ9FBc">  <center> <input class="gNO89b" value="Google Search" aria-label="Google Search" name="btnK" role="button" tabindex="0" type="submit"> <input class="RNmpXc" value="I'm Feeling Lucky" aria-label="I'm Feeling Lucky" name="btnI" type="submit" jsaction="trigger.kWlxhc">  </center> </div></div><div jsname="JUypV"><div class="WzNHm mWcf0e" jscontroller="gSZvdb" role="button" tabindex="0" jsdata="vST7rb;_;A1yMlo" jsaction="i5KCU;kVBCVd:yM1YJe"><div class="VfL2Y LRZwuc">Report inappropriate predictions</div></div></div><div class="KxWPre" id="TWnylf"><div class="E2ShOd"></div><span class="VUsake"></span><g-dropdown-menu class="V7WNjc adGN6" jscontroller="pFsdhd" jsdata="xJGXK;_;A1yMls" jsshadow="" jsaction="rcuQ6b:npT2md;mMf61e:GKlhgf;YraOve:cCpuJc;kNOP9c:bzkPEc;hmb6Ye:oyYkKb;KyPa0e:G8Ofmd;wjOG7e:rWoVB;ZvRO4b:L76sMb;LyWNEf:L76sMb"><g-popup jsname="zpo2ue" jscontroller="DPreE" jsaction="A05xBd:IYtByb;EOZ57e:WFrRFb;" jsdata="mVjAjf;_;A1yMlw" id="ow26" __is_owner="true"><div jsname="oYxtQd" class="CcNe6e" aria-expanded="false" aria-haspopup="true" jsslot="" role="button" tabindex="0" aria-label="See more" jsaction="WFrRFb;keydown:uYT2Vb"><div class="wSGdUc"><span class="IjabWd z1asCe SaPW2b"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"></svg></span></div></div><div jsname="V68bde" class="UjBGL pkWBse iRQHZe" style="display:none;z-index:1000" jsowner="ow26"><g-menu jsname="iXXGtd" class="WNN1b Shjy3b yTik0" jscontroller="WlNQGd" role="menu" tabindex="-1" jsaction="PSl28c;focus:h06R8;keydown:uYT2Vb;mouseenter:WOQqYb;mouseleave:Tx5Rb;mouseover:IgJl9c"><g-menu-item jsname="NNJLud" class="GuoVP EpPYLd GZnQqe" jscontroller="CnSW2d" role="menuitem" tabindex="0" jsdata="zPXzie;_;A1yMl0"><div jsname="ibnC6b" class="YpcDnf OSrXXb">Dismiss</div></g-menu-item></g-menu></div></g-popup></g-dropdown-menu></div><div class="zs1JGd" jsname="RqJ7oe" id="dh215c" role="presentation"><div class="JqPLlb" role="option" tabindex="0"></div></div></div><div jsname="mvaK7d" class="M8H8pb"></div><div class="FPdoLc lJ9FBc">  <center> <input class="gNO89b" value="Google Search" aria-label="Google Search" name="btnK" role="button" tabindex="0" type="submit">  <input id="gbqfbb" value="I'm Feeling Lucky" aria-label="I'm Feeling Lucky" name="btnI" role="button" tabindex="0" type="submit"><div class="gbqfba gbqfba-hvr" role="button" style="display: none; font-family: Roboto, Arial, sans-serif; overflow: hidden; text-align: center; z-index: 50;"><div style="left: 0px; position: absolute; right: 0px; white-space: nowrap;"><div role="presentation"><span>I'm Feeling Curious</span></div><div role="presentation"><span>I'm Feeling Hungry</span></div><div role="presentation"><span>I'm Feeling Adventurous</span></div><div role="presentation"><span>I'm Feeling Playful</span></div><div role="presentation"><span>I'm Feeling Stellar</span></div><div role="presentation"><span>I'm Feeling Doodley</span></div><div role="presentation"><span>I'm Feeling Trendy</span></div><div role="presentation"><span>I'm Feeling Artistic</span></div><div role="presentation"><span>I'm Feeling Funny</span></div></div></div> </center> </div></div> <div style="background:url(/images/searchbox/desktop_searchbox_sprites318_hr.webp)"> </div>  </div> <div id="tophf"><input name="sca_esv" value="a135d1cef58d6723" type="hidden"><input name="sxsrf" value="ADLYWILNOcL6x1p0cNkIxb75h4BNymkqew:1721229527926" type="hidden"><input name="source" type="hidden" value="hp"><input value="1-CXZpHjKYKk5NoP376m6AI" name="ei" type="hidden"><input value="AL9hbdgAAAAAZpfu56WWawn7Igpu3zSVpH-Iku35S8xO" name="iflsig" type="hidden"></div></form></div><div class="o3j99 qarstb"><div jscontroller="ms4mZb" id="a3JU5b" class="yf" jsaction="rcuQ6b:npT2md" eid="2OCXZrSNLMGf5NoP5fik4AI"><div jsname="Nll0ne"></div></div></div><div jscontroller="B2qlPe" jsname="cgsKlb" jsaction="rcuQ6b:npT2md"></div><div class="o3j99 c93Gbe" role="contentinfo"><div jscontroller="NzU6V" class="KxwPGc SSwjIe" jsaction="rcuQ6b:npT2md"><div class="KxwPGc AghGtd"><a class="pHiOh" href="https://www.google.com/intl/en_us/ads/?subid=ww-ww-et-g-awa-a-g_hpafoot1_1!o2&amp;utm_source=google.com&amp;utm_medium=referral&amp;utm_campaign=google_hpafooter&amp;fg=1" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://www.google.com/intl/en_us/ads/%3Fsubid%3Dww-ww-et-g-awa-a-g_hpafoot1_1!o2%26utm_source%3Dgoogle.com%26utm_medium%3Dreferral%26utm_campaign%3Dgoogle_hpafooter%26fg%3D1&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0QkdQCCCE&amp;bl=DBU6&amp;opi=89978449">Advertising</a><a class="pHiOh" href="https://www.google.com/services/?subid=ww-ww-et-g-awa-a-g_hpbfoot1_1!o2&amp;utm_source=google.com&amp;utm_medium=referral&amp;utm_campaign=google_hpbfooter&amp;fg=1" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://www.google.com/services/%3Fsubid%3Dww-ww-et-g-awa-a-g_hpbfoot1_1!o2%26utm_source%3Dgoogle.com%26utm_medium%3Dreferral%26utm_campaign%3Dgoogle_hpbfooter%26fg%3D1&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0QktQCCCI&amp;bl=DBU6&amp;opi=89978449">Business</a><a class="pHiOh" href="https://google.com/search/howsearchworks/?fg=1"> How Search works </a></div><div class="KxwPGc ssOUyb"><a class="pHiOh" href="https://sustainability.google/?utm_source=googlehpfooter&amp;utm_medium=housepromos&amp;utm_campaign=bottom-footer&amp;utm_content=" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://sustainability.google/%3Futm_source%3Dgooglehpfooter%26utm_medium%3Dhousepromos%26utm_campaign%3Dbottom-footer%26utm_content%3D&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0QiM8HCCM&amp;bl=DBU6&amp;opi=89978449"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAMAAAAiV0Z6AAAAPFBMVEVLoEN0wU6CzFKCzFKCzFKCzFKCzFJSo0MSczNDmkCCzFJPoUMTczNdr0gmgziCzFITczMTczMTczMTczPh00jOAAAAFHRSTlPF/+bIsms8Ad///hX+//5/tXw7aMEAx10AAACaSURBVHgBbc4HDoRQCATQ33tbvf9dF9QxaCT9UQaltLHOh/golXKhMs5Xqa0xU1lyoa2fXFyQOsDG38qsLy4TaV+sFislovyhPzLJJrBu6eQOtpW0LjbJkzTuTDLRVNKa3uxJI+VdiRqXSeu6GW+Qxi29eLIi8H7EsYrT42BD+mQtNO5JMjRuC4lSY8V4hsLX0egGijvUSEP9AbylEsOkeCgWAAAAAElFTkSuQmCC" class="Pb9hCb" alt=""><span class="ktLKi">Our third decade of climate action: join us</span></a></div><div class="KxwPGc iTjxkf"><a class="pHiOh" href="https://policies.google.com/privacy?hl=en&amp;fg=1" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://policies.google.com/privacy%3Fhl%3Den%26fg%3D1&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0Q8awCCCQ&amp;bl=DBU6&amp;opi=89978449">Privacy</a><a class="pHiOh" href="https://policies.google.com/terms?hl=en&amp;fg=1" ping="/url?sa=t&amp;rct=j&amp;source=webhp&amp;url=https://policies.google.com/terms%3Fhl%3Den%26fg%3D1&amp;ved=0ahUKEwjRqszUr66HAxUCElkFHV-fCS0Q8qwCCCU&amp;bl=DBU6&amp;opi=89978449">Terms</a><span><span jscontroller="nabPbb" jsaction="KyPa0e:Y0y4c;BVfjhf:VFzweb;wjOG7e:gDkf4c;"><g-popup jsname="V68bde" jscontroller="DPreE" jsaction="A05xBd:IYtByb;EOZ57e:WFrRFb;" jsdata="mVjAjf;_;A1yMl4"><div jsname="oYxtQd" class="CcNe6e" aria-expanded="false" aria-haspopup="true" role="button" tabindex="0" jsaction="WFrRFb;keydown:uYT2Vb"><div jsname="LgbsSe" class="ayzqOc pHiOh" aria-controls="_1-CXZpHjKYKk5NoP376m6AI_6" aria-haspopup="true">Settings</div></div><div jsname="V68bde" class="UjBGL pkWBse iRQHZe" style="display:none;z-index:200"><g-menu jsname="xl07Ob" class="cF4V5c yTik0 PBn44e" jscontroller="WlNQGd" role="menu" tabindex="-1" jsaction="PSl28c;focus:h06R8;keydown:uYT2Vb;mouseenter:WOQqYb;mouseleave:Tx5Rb;mouseover:IgJl9c"><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><a href="https://www.google.com/preferences?hl=en&amp;fg=1" role="menuitem" tabindex="-1">Search settings</a></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><a href="/advanced_search?hl=en&amp;fg=1" role="menuitem" tabindex="-1">Advanced search</a></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><a href="https://myactivity.google.com/privacyadvisor/search?utm_source=googlemenu&amp;fg=1" role="menuitem" tabindex="-1">Your data in Search</a></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><a href="https://myactivity.google.com/product/search?utm_source=google&amp;hl=en&amp;fg=1" role="menuitem" tabindex="-1">Search history</a></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><a href="https://support.google.com/websearch/?p=ws_results_help&amp;hl=en&amp;fg=1" role="menuitem" tabindex="-1">Search help</a></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><span role="menuitem" tabindex="-1" jsaction="trigger.YcfJ">Send feedback</span></div></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe LGiluc" aria-hidden="true" role="separator" jsdata="zPXzie;_;A1yMmA"></g-menu-item><g-menu-item jsname="NNJLud" jscontroller="CnSW2d" class="EpPYLd GZnQqe" role="none" jsdata="zPXzie;_;A1yMl8"><div jsname="ibnC6b" class="YpcDnf OSrXXb HG1dvd" role="none"><div class="y0fQ9c" id="YUIDDb" role="menuitem" tabindex="-1"><div jscontroller="fXO0xe" class="tFYjZe" role="link" tabindex="0" jsaction="ok5gFc;x6BCfb:ggFCce;w3Ukrf:aelxJb"><div>Dark theme: Off</div><div class="iOHNLb"><span style="height:20px;line-height:20px;width:20px" class="z1asCe aqvxcd"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"></svg></span></div></div></div></div></g-menu-item></g-menu></div></g-popup></span></span></div></div><div jscontroller="zGLm3b" style="display:none" jsaction="rcuQ6b:npT2md"></div></div></div><div class="Fgvgjc"><div class="gTMtLb fp-nh" id="lb"></div><span style="display:none"><span jscontroller="DhPYme" style="display:none" jsaction="rcuQ6b:npT2md"></span></span><div><div>  </div></div></div><textarea class="csi" name="csi" style="display:none"></textarea><div class="gb_l" ng-non-bindable="">Search Labs</div><div class="gb_n" ng-non-bindable="">Google apps</div><div class="gb_r" ng-non-bindable=""><div class="gb_wc"><div>Google Account</div><div class="gb_wb">Balaji Rama</div><div>balajirw10@gmail.com</div></div></div><div id="sZmt3b" class="fp-nh"><div id="i58Mw" class="ABMFZ"></div></div><div id="snbc"><div jsname="sM5MNb" aria-live="polite" class="LH3wG"></div></div>
    """
    
    with open('data2.html', 'w+', encoding="utf-8") as f:
        soup = BeautifulSoup(test, 'html.parser')
        traverse(soup)

        f.write(soup.prettify())
    # print(extract_elements(test))